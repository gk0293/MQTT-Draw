<mah:MetroWindow
    x:Class="MqttDaGClient.View.ClientMain"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:MqttDaGClient.ViewModel"
    xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="ClientMain"
    MinWidth="1100"
    MinHeight="800"
    FontFamily="Microsoft YaHei UI"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Viewbox>
        <Grid>
            <Grid Width="1100" Height="800">
                <Grid.RowDefinitions>
                    <RowDefinition Height="125" />
                    <RowDefinition Height="250" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="400" />
                    <ColumnDefinition Width="344*" />
                    <ColumnDefinition Width="357*" />
                </Grid.ColumnDefinitions>


                <Button
                    Grid.Row="0"
                    Width="100"
                    Height="45"
                    Margin="0,28,0,50"
                    HorizontalAlignment="Center"
                    Command="{Binding SubscribeCommand}"
                    Content="订阅主题"
                    FontFamily="Microsoft YaHei UI"
                    FontSize="18"
                    FontWeight="Normal" />
                <TextBox
                    Grid.Row="0"
                    Width="178"
                    Height="40"
                    Margin="0,85,0,0"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    FontSize="18"
                    Text="{Binding Topic}"
                    TextWrapping="NoWrap" />

                <!--主题列表 -->
                <Border
                    Grid.Row="1"
                    Grid.Column="0"
                    Width="195"
                    Margin="4,10,0,45"
                    HorizontalAlignment="Left"
                    BorderBrush="Black"
                    BorderThickness="2"
                    CornerRadius="3">
                    <ListBox
                        FontSize="18"
                        ItemsSource="{Binding Topics}"
                        SelectedItem="{Binding DisTopic}" />
                </Border>

                <!-- 当前主题成员 -->
                <Border
                    Grid.Row="1"
                    Grid.Column="0"
                    Width="195"
                    Margin="0,10,2,45"
                    HorizontalAlignment="Right"
                    BorderBrush="Black"
                    BorderThickness="2"
                    CornerRadius="3">

                    <ListBox FontSize="18" ItemsSource="{Binding TopicClient}" />
                </Border>
                <TextBlock
                    Grid.Row="1"
                    Margin="0,217,0,0"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    FontSize="18"
                    Text="消息栏" />

                <Border
                    Grid.Row="2"
                    Grid.Column="0"
                    Margin="4,0,0,140"
                    BorderBrush="Black"
                    BorderThickness="2"
                    CornerRadius="3">
                    <TextBox
                        FontSize="16"
                        IsReadOnly="True"
                        Text="{Binding LogContent}"
                        TextWrapping="Wrap" />
                </Border>
                <TextBox
                    Grid.Row="2"
                    Grid.Column="0"
                    Width="257"
                    Height="50"
                    Margin="32,0,0,74"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Bottom"
                    FontSize="14"
                    Text="{Binding PubMessage}"
                    TextWrapping="Wrap" />

                <Button
                    Grid.Row="2"
                    Grid.Column="0"
                    Width="60"
                    Height="40"
                    Margin="0,0,13,79"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Command="{Binding PublishCommand}"
                    Content="发送"
                    FontSize="14" />

                <TextBlock
                    Grid.Row="0"
                    Grid.Column="1"
                    Margin="250,50,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="28"
                    Text="用户:"
                    TextWrapping="NoWrap" />

                <TextBlock
                    Grid.Row="0"
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Width="144"
                    Margin="325,50,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="28"
                    Text="{Binding Client.ClientId}"
                    TextWrapping="NoWrap" />

                <Button
                    Grid.Row="0"
                    Grid.Column="1"
                    Width="120"
                    Height="45"
                    Margin="52,21,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding OpenNewClientCommand}"
                    Content="开启客户端"
                    FontFamily="Microsoft YaHei UI"
                    FontSize="18"
                    FontWeight="Normal" />
                <Button
                    Grid.Row="0"
                    Grid.Column="1"
                    Width="120"
                    Height="45"
                    Margin="52,76,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding DisconnectCommand}"
                    Content="断开连接"
                    FontFamily="Microsoft YaHei UI"
                    FontSize="18"
                    FontWeight="Normal" />

                <Border
                    Grid.Row="1"
                    Grid.RowSpan="2"
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Margin="40"
                    BorderBrush="Black"
                    BorderThickness="3"
                    CornerRadius="5">
                    <InkCanvas
                        x:Name="inkCanvas"
                        Margin="0,0,0,0"
                        Background="White"
                        UseCustomCursor="True">
                        <InkCanvas.DefaultDrawingAttributes>
                            <DrawingAttributes
                                Width="2"
                                Height="2"
                                Color="Black" />
                        </InkCanvas.DefaultDrawingAttributes>
                    </InkCanvas>
                </Border>

                <TextBlock
                    Grid.Row="1"
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Margin="241,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="24"
                    Text="画板为DaG主题限定"
                    TextWrapping="Wrap" />

                <Button
                    Grid.RowSpan="2"
                    Grid.Column="2"
                    Width="132"
                    Margin="184,122,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding ClearInkCanvasCommand}"
                    Content="清 空画 板"
                    FontFamily="Microsoft YaHei UI"
                    FontSize="16"
                    FontWeight="Normal" />
                <Button
                    Grid.Row="1"
                    Margin="68,0,0,7"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Bottom"
                    Command="{Binding UnSubscribeCommand}"
                    Content="取消订阅"
                    FontSize="14" />
                <TextBlock
                    Grid.RowSpan="2"
                    Margin="10,111,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="16"
                    Text="所有主题"
                    TextWrapping="Wrap" />
                <TextBlock
                    Grid.RowSpan="2"
                    Width="86"
                    Margin="314,111,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="16"
                    Text="在线客户端"
                    TextWrapping="Wrap" />
                <TextBlock
                    Grid.Row="2"
                    Margin="32,370,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="18"
                    Text="当前发布主题为"
                    TextWrapping="Wrap" />
                <TextBlock
                    Grid.Row="2"
                    Margin="173,370,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="18"
                    Text="{Binding DisTopic}"
                    TextWrapping="Wrap" />

            </Grid>
        </Grid>
    </Viewbox>
</mah:MetroWindow>
